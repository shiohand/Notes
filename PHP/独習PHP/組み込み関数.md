# 組み込み関数

- [組み込み関数](#組み込み関数)
- [文字列関数](#文字列関数)
- [配列関数](#配列関数)
- [数学関数](#数学関数)
- [その他](#その他)

## 組み込み関数

組み込み関数(ビルトイン関数, 内部関数)

種類|-
-|-
  コア拡張    | 常に有効
  バンドル拡張|  バンドル
  外部拡張    | 外部ライブラリ
  PECL拡張    |PHP Extention Community Libraryのライブラリ

文字列関数
配列関数
正規表現関数
ファイルシステム関数
数学関数
変数操作関数

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

## 文字列関数

strlen(文字列)                 文字列長。
mb_strlen(文字列[, 文字コード])  2バイト文字対応

trim(文字列)           文字列の前後のホワイトスペースを取り除く。

substr(文字列, 開始点[, 文字数])
mb_substr(文字列, 開始点[, 文字数[, 文字コード]])
  文字列の取り出し 開始点マイナスは末尾から数える

str_replace(前, 後, 文字列[, &置換数格納用変数]) // 配列可
strtr(文字列, array('前' => '後', '前' => '後'...))

implode(区切り文字, 配列)
explode(区切り文字, 文字列[, 分割最大数])
// 最大数以上分割しない 負数の場合は分割後の最後の要素から個数分削除
mb_strpos(文字列, 検索文字列[, オフセット[, 文字コード]])
// 位置かfalse 最初の一つ
mb_strrpos(文字列, 検索文字列[, オフセット[, 文字コード]])
// 後ろから

strtolower(文字列)     キャピタライズ（lower）
strtoupper(文字列)     キャピタライズ（upper）
mb_strtolower(文字列)  全角英字対応
mb_strtoupper(文字列)
ucwords(文字列)       先頭文字のみ大文字

number_format(数値)   桁区切りとかフォーマットしてくれる

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

mb_convert_encoding(文字列, 文字コード[, 変換前文字コード])
mb_convert_variables(文字コード, 変換前文字コード, &対象の配列など)
// 戻り値配列など複合型の値に使う(変換前コードは要統一)

mb_convert_kana(文字列[, オプション[, 文字コード]])
  r/R 英文字
  n/N 数字
  a/A 英数字
  s/S スペース
  k/K カタカナ
  h/H カタカナ   半角
  c/C カナ→かな 全角
  V   半角カナの濁点を処理
<?php print mb_convert_kana('WINGSﾌﾟﾛｼﾞｪｸﾄ', 'RKV'); // ＷＩＮＧＳプロジェクト ?>

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

printf(フォーマット, ...埋め込む値)
vprintf(フォーマット, 埋め込む値の配列) // 配列で渡せる
sprintf() // 整形後の文字列を戻り値で返す
vsprintf() //

変換指定子
  符号指定子          +
  パディング指定子     任意
  アラインメント指定子  -
  表示幅指定子        数値(表示文字桁数)
  精度指定子          数値
  型指定子           d(10進数) f(double) s(文字列) c(文字) 他
インデックス指定子      $

<?php
printf('%+0-8.3f', 0.198765); // +0.19900   +(符号)0(パディング)-(左寄せ)8(桁).3(小数桁)f(double)
printf("%'*10.3e", 0.198765); // **1.988e-1 *(パディング)10(桁).3(小数桁)e(指数)
printf('%2$sは%1$sです', 'ニンザブロウ', 'ハムスター');
?>

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

## 配列関数

array_push(&配列, 値...)   末尾に追加 array[] = 値 と同じ。 
array_pop(&配列)           末尾を取り出して削除
array_shift(&配列, 値...)  先頭を取り出して削除
array_unshift(&配列)       先頭に追加
戻り値は追加後の要素数 または 取り出した要素

count(配列[, カウントのモード])
  カウントモード
    COUNT_NORMAL     直下の子のみ
    COUNT_RECURSICE  末端まで含む(中継した節も含む。ノード全部という感じ)

array_search(検索する値, 配列, 比較は===か否か)
  一番目に見つけた要素のキーかfalseを返す 大文字小文字の区別あり
in_array(検索する値, 配列[, 比較は===か否か])
  戻り値はboolean

array_slice(配列, オフセット[, 要素数[, キーを維持するか否か]])
  要素を取り出す(元の配列に影響はない) キーを維持しない場合、0からの連番
  要素数を省略した場合最後の要素まで 数値を負の数にした場合は後ろから数えた位置

array_merge(...配列)
  文字列キーの重複は上書き, 数値キーの重複は新しい数値キーを作って追加
array_merge_recursive(...配列)
  文字列キーの重複はそのキーを配列にして([0]=>配列1の値, [1]=>配列2の値)とする
array_splice(&配列, オフセット[, 要素数[, 挿入する配列]])
  戻り値 削除した要素
  挿入する配列を指定しなければ削除のみ 要素数を省略した場合最後の要素まで
  要素数に0を指定すると挿入が実現できる

sort(配列)   要素順  ただし連想配列のキーは数値に置き換わる
asort(配列)  要素順  連想配列のキーを保持
ksrot(配列)  キー順
rsort(配列) arsort(配列) krsort(配列)  各ソートの降順
第二引数にソート方法を指定できる
SORT_REGULAR        配慮ナシ
SORT_NUMERIC        数値として
SORT_STRING         文字列として
SORT_LOCALE_STRING  ロケール対応
SORT_NATURAL        文字列自然順(1, 2, 10)
  SORT_FLAG_CASE      大文字小文字を区別しない
    例: SORT_NATURAL | SORT_FLAG_CASE
usort(配列, 規則の関数) ユーザー指定の規則で(JavaならcompareToみたいな)

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

## 数学関数

abs(x)
base_convert(x, from, to)  from進数→to進数へ変換
ceil(x)
floor(x)
fmod(x, y)
max(x...)
min(x...)
mt_rand(x...)
pow(x, y)
round(x, 桁数)
sqrt(x)
cos(x)
sin(x)
tan(x)
deg2rad(x)
exp(x)
log10(x)
log(x[, 底])

≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡

## その他

-|-
-|-
random_int|暗号学的にランダムな整数(偏らない)
random_byte|byte版